<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=0">
    <title> 邀请好友 </title>
    <script>
        (function(para) {
            var p = para.sdk_url, n = para.name, w = window, d = document, s = 'script',x = null,y = null;
            w['sensorsDataAnalytic201505'] = n;
            w[n] = w[n] || function(a) {return function() {(w[n]._q = w[n]._q || []).push([a, arguments]);}};
            var ifs = ['track','quick','register','registerPage','registerOnce','clearAllRegister','trackSignup', 'trackAbtest', 'setProfile','setOnceProfile','appendProfile', 'incrementProfile', 'deleteProfile', 'unsetProfile', 'identify','login','logout','trackLink','clearAllRegister'];
            for (var i = 0; i < ifs.length; i++) {
                w[n][ifs[i]] = w[n].call(null, ifs[i]);
            }
            if (!w[n]._t) {
                x = d.createElement(s), y = d.getElementsByTagName(s)[0];
                x.async = 1;
                x.src = p;
                y.parentNode.insertBefore(x, y);
                w[n].para = para;
            }
        })({
            sdk_url: 'https://carapp.gtmc.com.cn/fs01/appfiles/sasdk/sensorsdata.min.js',
            // sdk_url: 'https://carapptest.gtmc.com.cn/fs01/appfiles/sasdk/sensorsdata.min.js',
            name: 'sa',
            use_app_track:true,
            debug_mode:false,
            cross_subdomain:true,
            server_url:'https://sa.carapp.gtmc.com.cn:1443/sa?project=production'
            // server_url:'https://sa.carapp.gtmc.com.cn:1443/sa?project=default'
        });
        const timer = setInterval(function(){
            function getQueryValue(name){
                var reg = new RegExp("(^|&)"+ name +"=([^&]*)(&|$)");
                var subString = location.href.split('?')[1]||'';
                var r = subString.match(reg);
                if(r!=null)return  decodeURI(r[2]); return '';
            }
            function runTrack() {
                var app_info = sa.getAppStatus();
                // app_info 可能获取不到，例如非 App 环境，或者 App 端没有启用 AppInfo。
                if (app_info) {
                    sa.identify(app_info.distinct_id);
                }
                sa.quick('autoTrack');
                var targetEvent = getQueryValue('targetEvent')||'H5View';
                sa.track(targetEvent,{
                    'sourceFrom':getQueryValue('sourceFrom'),
                    'H5_id':'999999999',
                    'H5_name':'邀请注册活动-我的邀请记录'
                });
                clearInterval(timer);
            }
            try{
                runTrack();
            }catch(e){
                runTrack();
            }

        }, 1000)
    </script>
  </head>
  <body>
    <div id="app">

    </div>
    <!-- built files will be auto injected -->
  </body>
</html>